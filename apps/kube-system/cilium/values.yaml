cilium:
  kubeProxyReplacement: true
  ipam:
    mode: kubernetes
  securityContext:
    capabilities:
      ciliumAgent:
        - CHOWN
        - KILL
        - NET_ADMIN
        - NET_RAW
        - IPC_LOCK
        - SYS_ADMIN
        - SYS_RESOURCE
        - DAC_OVERRIDE
        - FOWNER
        - SETUID
        - SETGID
      cleanCiliumState:
        - NET_ADMIN
        - SYS_ADMIN
        - SYS_RESOURCE
  cgroup:
    hostRoot: /sys/fs/cgroup
    autoMount:
      enabled: false
  # Enable Cilium Ingress Controller
  ingressController:
    enabled: false
  # Use KubePrism to access cluster API
  k8sServiceHost: localhost
  k8sServicePort: 7445
  # Enable Hubble
  hubble:
    relay:
      enabled: true
    ui:
      enabled: true
      service:
        annotations:
          # Enable Omni Workload Proxying for this service
          omni-kube-service-exposer.sidero.dev/port: "50080"
          omni-kube-service-exposer.sidero.dev/label: Hubble
    # Enable Hubble metrics for latency/timing data
    metrics:
      enabled:
        - dns
        - drop
        - tcp
        - flow
        - port-distribution
        - icmp
        - httpV2:exemplars=true;labelsContext=source_ip,source_namespace,source_workload,destination_ip,destination_namespace,destination_workload,traffic_direction
      serviceMonitor:
        enabled: true
      dashboards:
        enabled: true
        namespace: monitoring
    # Enable L7 HTTP visibility for detailed request/response timing
    httpMetrics:
      enabled: true
